<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>IPTV Fullscreen Player</title>
<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">
<style>
html, body { margin:0; padding:0; width:100%; height:100%; background:#000; overflow:hidden; }
#player { width:100%; height:100%; }
</style>

<!-- JW Player Library -->
<script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<script> jwplayer.key='XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';</script>
</head>
<body>
<div id="player"></div>

<script>
(function(){
    // ðŸ”’ Base64 URL à¸‚à¸­à¸‡ DASH/HLS à¸ªà¸•à¸£à¸µà¸¡à¸ˆà¸£à¸´à¸‡
    const encoded = "aHR0cHM6Ly9jY28tc3RyZWFtZXIxLmNkbi4zYmJ0di5jb206ODQ0My8zYmIvbGl2ZS8xMDcvMTA3Lm1wZA==";
    const url = atob(encoded).trim();

    var playerInstance = jwplayer("player");

    playerInstance.setup({
        playlist: [{
            title: "HBO",
            description: "HBO Live Channel",
            sources: [
                { 
                    file: url, 
                    type: "dash",
                    drm: {
                        clearkey: {
                            keyId: "f48caba466394e93b50780f21798787a",
                            key: "9a074a10db4342e7937076b3e52f6029"
                        }
                    },
                    label: "HD",
                    default: true
                },
                { file: url, type: "hls", label: "HLS" }
            ]
        }],
        width: "100%",
        height: "100%",
        aspectratio: "16:9",
        autostart: true,
        mute: false,       // à¹€à¸›à¸´à¸”à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸¥à¸¢
        stretching: "fill", // à¹€à¸•à¹‡à¸¡à¸ˆà¸­à¹€à¸•à¹‡à¸¡à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆ
        primary: "html5",
        repeat: true,
        controls: true,
        preload: "auto"
    });

    // à¸£à¸µà¹‚à¸«à¸¥à¸”à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸” error
    playerInstance.on('error', function(e){
        console.error("JW Player error:", e);
        setTimeout(() => playerInstance.load(playerInstance.getPlaylist()), 3000);
    });

    // à¹€à¸¥à¹ˆà¸™à¸‹à¹‰à¸³à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
    playerInstance.on('complete', function(){ playerInstance.play(); });
})();
</script>
</body>
</html>
