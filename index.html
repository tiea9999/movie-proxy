<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>TV Player Single Channel</title>
  <style>
    html, body { margin:0; padding:0; height:100%; background:#000; display:flex; flex-direction:column; }
    #video-player { width:100vw; height:100vh; background:#000; }
  </style>
</head>
<body>

<video id="video-player" controls autoplay playsinline webkit-playsinline></video>

<script>
  const video = document.getElementById("video-player");

  // -----------------------------
  // à¸à¸³à¸«à¸™à¸” URL à¸Šà¹ˆà¸­à¸‡à¸•à¸£à¸‡à¸™à¸µà¹‰
  const channelURL = "http://6395online.ddns.net:8080/memfs/494a9a37-45e9-40ae-9f73-1489994ab2c3_output_0.m3u8?session=8WT5kHZY9oJqfT4b8DJgAD";

  const refreshInterval = 25 * 60 * 1000; // 25 à¸™à¸²à¸—à¸µ

  async function playChannel() {
    try {
      video.src = channelURL;
      video.type = "application/x-mpegURL";
      await video.play().catch(err => console.warn("âŒ à¹€à¸¥à¹ˆà¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹„à¸¡à¹ˆà¹„à¸”à¹‰:", err));
      console.log("ðŸ” à¹€à¸¥à¹ˆà¸™à¸Šà¹ˆà¸­à¸‡ URL:", channelURL);
    } catch (err) {
      console.error("âŒ à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”:", err);
      setTimeout(playChannel, 5000);
    }
  }

  // à¹€à¸¥à¹ˆà¸™à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸
  playChannel();

  // à¸£à¸µà¹€à¸Ÿà¸£à¸Šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸—à¸¸à¸ 25 à¸™à¸²à¸—à¸µ
  setInterval(playChannel, refreshInterval);

  // à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸–à¹‰à¸²à¸§à¸´à¸”à¸µà¹‚à¸­à¸«à¸¢à¸¸à¸”
  setInterval(() => {
    if (video.paused || video.ended) playChannel();
  }, 5 * 60 * 1000);
</script>

</body>
</html>
